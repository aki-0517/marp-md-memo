assembly2/assembly-results/ragtag_canu_scaffold/canu_polished_round1.fasta

`assembly2/assembly-results/ragtag_canu_scaffold/canu_polished_round1.fasta` ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã€æŒ‡å®šã•ã‚ŒãŸ `RepeatMasker` ã®æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã‚³ãƒãƒ³ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

---

### ## 1ï¸âƒ£ RepeatMasker å®Ÿè¡Œ

`RepeatMasker`ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦`dd_dirs1.fasta`ã‚’ä½¿ç”¨ã—ã€ã‚·ãƒ³ãƒ—ãƒ«ãƒªãƒ”ãƒ¼ãƒˆã‚’ç„¡è¦–ã™ã‚‹`-nolow`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã€**canu**ã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªã«å¯¾ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

**Bash**


```
RepeatMasker -pa 4 -lib dd_dirs1.fasta -gff -dir DIRS_masked_output_canu -engine ncbi -nolow assembly2/assembly-results/ragtag_canu_scaffold/canu_polished_round1.fasta
```

- **`-dir DIRS_masked_output_canu`**: **ã€ä¿®æ­£ç‚¹ã€‘** å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’`canu`ç‰ˆã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
    
- **`.../canu_polished_round1.fasta`**: **ã€ä¿®æ­£ç‚¹ã€‘** å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`canu`ã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
    

---

### ## 2ï¸âƒ£ DIRS ã®ã¿æŠ½å‡ºï¼ˆä¸è¦ï¼‰

å…ƒã®æ‰‹é †ã¨åŒæ§˜ã«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦`dd_dirs1.fasta`ã®ã¿ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã€å‡ºåŠ›ã«ã¯DIRS-1ã®ãƒ’ãƒƒãƒˆã—ã‹å«ã¾ã‚Œã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€`grep`ã«ã‚ˆã‚‹æŠ½å‡ºã¯**ä¸è¦**ã§ã™ã€‚

---

### ## 3ï¸âƒ£ BED å½¢å¼ã«å¤‰æ›

`RepeatMasker`ãŒæ–°ã—ãå‡ºåŠ›ã—ãŸGFFãƒ•ã‚¡ã‚¤ãƒ«ã‚’`gff2bed`ã®å…¥åŠ›ã¨ã—ã¦ä½¿ã„ã€BEDå½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚

**Bash**

Bash

```
gff2bed < DIRS_masked_output_canu/canu_polished_round1.fasta.out.gff > DIRS_masked_output_canu/canu.DIRS.bed
```

- **`DIRS_masked_output_canu/...`**: **ã€ä¿®æ­£ç‚¹ã€‘** å…¥åŠ›GFFãƒ•ã‚¡ã‚¤ãƒ«ã¨å‡ºåŠ›BEDãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’`canu`ç‰ˆã®åå‰ã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¾ã—ãŸã€‚
    

ã“ã‚Œã§ã€**canu**ã§ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã•ã‚ŒãŸã‚²ãƒãƒ ã®ä¸­ã‹ã‚‰ã€æŒ‡å®šã—ãŸDIRS-1é…åˆ—ã¨ç›¸åŒæ€§ã®ã‚ã‚‹é ˜åŸŸã ã‘ã‚’æŠ½å‡ºã—ãŸBEDãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`canu.DIRS.bed`ï¼‰ãŒå®Œæˆã—ã¾ã™ã€‚ğŸ‘








ã¯ã„ã€æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚`RepeatModeler`ã¨`RepeatMasker`ã®ä¸€é€£ã®æ‰‹é †ã‚’ã€`canu_polished_round1.fasta` ãƒ•ã‚¡ã‚¤ãƒ«å‘ã‘ã«ä¿®æ­£ã—ã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—1: RepeatModelerã«ã‚ˆã‚‹de novoãƒªãƒ”ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ§‹ç¯‰

ã¾ãšã€`canu`ã®ã‚²ãƒãƒ ã‚¢ã‚»ãƒ³ãƒ–ãƒªã‹ã‚‰ç¹°ã‚Šè¿”ã—é…åˆ—ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã€ãã‚Œã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã—ã¾ã™ã€‚

#### 1-1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹ç¯‰ (BuildDatabase)

RepeatModelerãŒè§£æã§ãã‚‹ã‚ˆã†ã«ã€FASTAãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‚ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚

- **ç›®çš„**: `canu_polished_round1.fasta` ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰NCBI-BLASTç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚
    
- **ã‚³ãƒãƒ³ãƒ‰**:
    

Bash

```
BuildDatabase -name canu_db -engine ncbi assembly2/assembly-results/ragtag_canu_scaffold/canu_polished_round1.fasta
```

- **èª¬æ˜**:
    
    - `-name canu_db`: **ã€ä¿®æ­£ç‚¹ã€‘** å‡ºåŠ›ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ¥é ­è¾ã‚’ `canu_db` ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
        
    - `canu_polished_round1.fasta`: **ã€ä¿®æ­£ç‚¹ã€‘** å…¥åŠ›ã¨ãªã‚‹ã‚²ãƒãƒ ã‚¢ã‚»ãƒ³ãƒ–ãƒªã‚’`canu`ç‰ˆã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
        

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`canu_db.nhr`, `canu_db.nin`, `canu_db.nsq` ãªã©ã®è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

#### 1-2. ãƒªãƒ”ãƒ¼ãƒˆé…åˆ—ã®åŒå®šã¨ãƒ¢ãƒ‡ãƒ«åŒ– (RepeatModeler)

æ¬¡ã«ã€æ§‹ç¯‰ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç”¨ã„ã¦ç¹°ã‚Šè¿”ã—é…åˆ—ã‚’åŒå®šã—ã€åˆ†é¡ã—ã¾ã™ã€‚ã“ã®å‡¦ç†ã¯è¨ˆç®—ã«éå¸¸ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

- **ç›®çš„**: ç¹°ã‚Šè¿”ã—é…åˆ—ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚’åŒå®šã—ã€ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹é…åˆ—ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚
    
- **ã‚³ãƒãƒ³ãƒ‰**:
    

Bash

```
RepeatModeler -database canu_db -engine ncbi -pa 8
```

- **èª¬æ˜**:
    
    - `-database canu_db`: **ã€ä¿®æ­£ç‚¹ã€‘** ã‚¹ãƒ†ãƒƒãƒ—1-1ã§ä½œæˆã—ãŸ`canu`ç‰ˆã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥é ­è¾ã‚’æŒ‡å®šã—ã¾ã™ã€‚
        
    - `-pa 8`: ä¸¦åˆ—è¨ˆç®—ã«ä½¿ç”¨ã™ã‚‹CPUã‚³ã‚¢æ•°ã‚’æŒ‡å®šã—ã¾ã™ã€‚ç’°å¢ƒã«åˆã‚ã›ã¦èª¿æ•´ã—ã¦ãã ã•ã„ã€‚
        

ã“ã®ã‚³ãƒãƒ³ãƒ‰ãŒæ­£å¸¸ã«å®Œäº†ã™ã‚‹ã¨ã€`canu`ç‰ˆã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªã«åŸºã¥ã„ãŸã‚«ã‚¹ã‚¿ãƒ ãƒªãƒ”ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒ `RM_....` ã¨ã„ã†åå‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

- **é‡è¦ãªå‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«**: `[ç”Ÿæˆã•ã‚ŒãŸRMãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]/consensi.fa.classified`
    
    - ã“ã‚ŒãŒã€**canuã‚¢ã‚»ãƒ³ãƒ–ãƒªã«ç‰¹ç•°çš„ãª**ç¹°ã‚Šè¿”ã—é…åˆ—ã®FASTAå½¢å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
        

---

### ã‚¹ãƒ†ãƒƒãƒ—2: RepeatMaskerã«ã‚ˆã‚‹ã‚²ãƒãƒ é…åˆ—ã®ãƒã‚¹ã‚­ãƒ³ã‚°

`RepeatModeler`ã§ä½œæˆã—ãŸ`canu`ã‚²ãƒãƒ ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã€å…ƒã®ã‚²ãƒãƒ é…åˆ—ä¸Šã®ãƒªãƒ”ãƒ¼ãƒˆé ˜åŸŸã‚’ãƒã‚¹ã‚¯ã—ã¾ã™ã€‚

- **ç›®çš„**: `consensi.fa.classified` ã‚’è¾æ›¸ã¨ã—ã¦ä½¿ã„ã€`canu_polished_round1.fasta` å†…ã®ãƒªãƒ”ãƒ¼ãƒˆé…åˆ—ã‚’ç‰¹å®šã—ã¦ãƒã‚¹ã‚¯ã—ã¾ã™ã€‚
    
- **ã‚³ãƒãƒ³ãƒ‰**:
    

Bash

```
RepeatMasker -lib [ç”Ÿæˆã•ã‚ŒãŸRMãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]/consensi.fa.classified -gff -pa 8 canu_polished_round1.fasta
```

- **èª¬æ˜**:
    
    - `-lib [ãƒ‘ã‚¹]`: **ã€æ³¨æ„ç‚¹ã€‘** ãƒã‚¹ã‚­ãƒ³ã‚°ã«ä½¿ç”¨ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚**ã‚¹ãƒ†ãƒƒãƒ—1-2ï¼ˆcanuç‰ˆï¼‰ã§å¾—ã‚‰ã‚ŒãŸ** `consensi.fa.classified` ã®ãƒ‘ã‚¹ã‚’æ­£ç¢ºã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
        
    - `canu_polished_round1.fasta`: **ã€ä¿®æ­£ç‚¹ã€‘** ãƒã‚¹ã‚¯å¯¾è±¡ã®ã‚²ãƒãƒ FASTAãƒ•ã‚¡ã‚¤ãƒ«ã‚’`canu`ç‰ˆã«å¤‰æ›´ã—ã¾ã—ãŸã€‚
        

#### ä¸»è¦ãªå‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãª`canu`ç‰ˆã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

- `canu_polished_round1.fasta.masked`: ç¹°ã‚Šè¿”ã—é…åˆ—é ˜åŸŸãŒãƒã‚¹ã‚¯ã•ã‚ŒãŸFASTAãƒ•ã‚¡ã‚¤ãƒ«ã€‚
    
- `canu_polished_round1.fasta.out`: ãƒã‚¹ã‚¯ã•ã‚ŒãŸå„ãƒªãƒ”ãƒ¼ãƒˆé ˜åŸŸã®è©³ç´°ãªã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆæƒ…å ±ã€‚
    
- `canu_polished_round1.fasta.tbl`: ãƒã‚¹ã‚¯ã•ã‚ŒãŸãƒªãƒ”ãƒ¼ãƒˆã®ã‚µãƒãƒªãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚
    
- `canu_polished_round1.fasta.gff`: GFF3å½¢å¼ã®ãƒã‚¹ã‚¯æƒ…å ±ã€‚
    

ä»¥ä¸ŠãŒã€`canu_polished_round1.fasta`ã«å¯¾ã—ã¦RepeatModelerã¨RepeatMaskerã‚’å®Ÿè¡Œã™ã‚‹ä¸€é€£ã®æ‰‹é †ã§ã™ã€‚



# æ¬¡ã«ã™ã‚‹ã“ã¨

1. canuã§ã‚‚dirs1ç‰¹å®šã¾ã§ã‚„ã‚‹ã€‚-> é•·ã•æ¯”è¼ƒã‚’ã‚„ã£ã¦ã€ã©ã£ã¡ã®æ–¹ãŒç²¾åº¦ã„ã„ã‹ç¢ºã‹ã‚ã‚‹
2. ax4ã¨ax2ã®dirs1ã®é•·ã•ã¨æ§‹é€ ã®æ¯”è¼ƒã‚’ã™ã‚‹ã€‚ã‚·ãƒ³ãƒ†ãƒ‹ãƒ¼æ¯”è¼ƒã™ã‚‹ä»¥ä¸‹ã®ã‚ˆã†ã«![[Pasted image 20250908154103.png]]
https://genomebiology.biomedcentral.com/articles/10.1186/s13059-025-03578-7/figures/6
3. de novoã§ã€ã¾ã ã‚ã‹ã£ã¦ãªã„repeatã‚‚ç‰¹å®šã™ã‚‹
4. rdnaã‚’ã¡ã‚ƒã‚“ã¨ã†ã¾ãç‰¹å®šã™ã‚‹




# de novo

ã¯ã„ã€æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚æ—¢çŸ¥ã®DIRS-1é…åˆ—ã‚’æ¤œç´¢ã™ã‚‹æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦ã€ã‚²ãƒãƒ ä¸­ã«å­˜åœ¨ã™ã‚‹**æœªçŸ¥ã®åå¾©é…åˆ—ï¼ˆã¾ã è¦‹ã¬åå¾©é…åˆ—ï¼‰ã‚’de novoï¼ˆãƒ‡ãƒãƒœã€æ–°è¦ã«ï¼‰ã§æ¢ç´¢ãƒ»ç‰¹å®šã™ã‚‹æ–¹æ³•**ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚

ã“ã®ç›®çš„ã®ãŸã‚ã«æœ€ã‚‚æ¨™æº–çš„ã§å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãŒ **RepeatModeler2** ã§ã™ã€‚

RepeatModeler2ã¯ã€ã‚²ãƒmé…åˆ—ã®ã¿ã‚’å…¥åŠ›ã¨ã—ã¦ã€ãã®ã‚²ãƒãƒ ã«ç‰¹æœ‰ã®åå¾©é…åˆ—ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚’è‡ªå‹•ã§æŠ½å‡ºã—ã€ãã‚Œã‚‰ã‚’ã¾ã¨ã‚ãŸã€Œã‚«ã‚¹ã‚¿ãƒ åå¾©é…åˆ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã‚’æ§‹ç¯‰ã—ã¦ãã‚Œã¾ã™ã€‚

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯å¤§ããåˆ†ã‘ã¦ä»¥ä¸‹ã®2ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã«ãªã‚Šã¾ã™ã€‚

1.  **`RepeatModeler2`**: ã‚ãªãŸã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªã‚²ãƒãƒ ã‹ã‚‰ã€de novoã§åå¾©é…åˆ—ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ§‹ç¯‰ã™ã‚‹ã€‚
2.  **`RepeatMasker`**: ã‚¹ãƒ†ãƒƒãƒ—1ã§ä½œæˆã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã€ã‚²ãƒãƒ å…¨ä½“ã‚’ãƒã‚¹ã‚­ãƒ³ã‚°ã™ã‚‹ã€‚

-----

```bash
(base) [aki@tardis ~]$ ls RM_masked_output
all_repeats.bed                      ragtag_polished_round1.fasta.masked.fai  ragtag_polished_round1.fasta.tbl
ragtag_polished_round1.fasta.cat.gz  ragtag_polished_round1.fasta.ori.out     repeats_colored.bed
ragtag_polished_round1.fasta.masked  ragtag_polished_round1.fasta.out
```

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’èª¿ã¹ã¦ã€ã©ã®ã‚ˆã†ã«ç”Ÿæˆã•ã‚ŒãŸã‹ã‚’ç¢ºèªã—ã¾ã™ã­ã€‚ã¾ãšã€ç¾åœ¨ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã§RepeatMaskerã®å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’æ¢ã—ã¦ã¿ã¾ã™ã€‚





èª¿æŸ»çµæœã‚’ã¾ã¨ã‚ã¾ã™ã€‚`RM_masked_output`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼š

## ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã®æµã‚Œ

### 1. **RepeatMaskerã®å®Ÿè¡Œ**
```bash
RepeatMasker -pa 4 -lib custom_repeats.fa -dir RM_masked_output assembly2/assembly-results/ragtag_flye_scaffold/ragtag_polished_round1.fasta
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®**RepeatMaskeræ¨™æº–å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«**ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼š

- `ragtag_polished_round1.fasta.masked` - ãƒªãƒ”ãƒ¼ãƒˆé ˜åŸŸãŒãƒã‚¹ã‚¯ã•ã‚ŒãŸFASTAãƒ•ã‚¡ã‚¤ãƒ«
- `ragtag_polished_round1.fasta.out` - ãƒªãƒ”ãƒ¼ãƒˆé ˜åŸŸã®è©³ç´°ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±
- `ragtag_polished_round1.fasta.tbl` - ãƒªãƒ”ãƒ¼ãƒˆã®ã‚µãƒãƒªãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«
- `ragtag_polished_round1.fasta.cat.gz` - åœ§ç¸®ã•ã‚ŒãŸã‚«ã‚¿ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
- `ragtag_polished_round1.fasta.ori.out` - ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- `ragtag_polished_round1.fasta.masked.fai` - ãƒã‚¹ã‚¯ã•ã‚ŒãŸFASTAã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«

### 2. **BEDãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆ**
RepeatMaskerã®`.out`ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¯è¦–åŒ–ç”¨ã®BEDãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼š

#### `all_repeats.bed`ã®ç”Ÿæˆ
```bash
awk 'NR>3 {print $5"\t"$6-1"\t"$7"\t"$10"_"$11"\t"$1"\t"$9}' \
    RM_masked_output/ragtag_polished_round1.fasta.out > RM_masked_output/all_repeats.bed
```

#### `repeats_colored.bed`ã®ç”Ÿæˆ
```bash
awk 'NR>3 {
    if($11 ~ /LINE/) color="255,0,0"        # LINE ã‚’èµ¤
    else if($11 ~ /SINE/) color="0,255,0"   # SINE ã‚’ç·‘
    else if($11 ~ /LTR/) color="0,0,255"    # LTR ã‚’é’
    else if($11 ~ /Satellite/) color="255,0,255" # Satellite ã‚’ãƒã‚¼ãƒ³ã‚¿
    else color="128,128,128"                 # ãã®ä»–ã¯ç°è‰²
    print $5"\t"$6-1"\t"$7"\t"$10"_"$11"\t"$1"\t"$9"\t"$6-1"\t"$7"\t"color
}' RM_masked_output/ragtag_polished_round1.fasta.out > RM_masked_output/repeats_colored.bed
```

### 3. **ä½¿ç”¨ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒª**
RepeatMaskerã®å®Ÿè¡Œã«ã¯ã€RepeatModelerã§ä½œæˆã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ ãƒªãƒ”ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ`custom_repeats.fa`ï¼‰ãŒä½¿ç”¨ã•ã‚Œã¾ã—ãŸã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»¥ä¸‹ã®æ‰‹é †ã§ä½œæˆã•ã‚Œã¦ã„ã¾ã™ï¼š

```bash
cat RM_3794378.TueAug191046142025/round-2/family-*.fa \
   RM_3794378.TueAug191046142025/round-3/family-*.fa \
   RM_3794378.TueAug191046142025/round-4/family-*.fa > custom_repeats.fa
```

### 4. **ç›®çš„**
ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚²ãƒãƒ ã‚¢ã‚»ãƒ³ãƒ–ãƒªï¼ˆ`ragtag_polished_round1.fasta`ï¼‰å†…ã®åå¾©é…åˆ—ã‚’åŒå®šãƒ»åˆ†é¡ã—ã€IGVãªã©ã®å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«ã§ãƒªãƒ”ãƒ¼ãƒˆé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚ç‰¹ã«ã€ã‚»ãƒ³ãƒˆãƒ­ãƒ¡ã‚¢é ˜åŸŸã®ç‰¹å®šã‚„ã‚²ãƒãƒ æ§‹é€ ã®ç†è§£ã«å½¹ç«‹ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚